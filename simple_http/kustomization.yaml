apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# NewNames are for local dev
images:
  - name: cron
    newName: xuanminator/simple-http:2.9-gen
  - name: static
    newName: xuanminator/simple-http:2.9-static
  - name: api
    newName: xuanminator/simple-http:3.5-api
  - name: postgres
    newName: postgres:13
  - name: redis
    newName: redis:7

# urls
# branch is pushed first then tags
# so no problem with actions
resources:
  - https://raw.githubusercontent.com/classroom-dee/hobbernetes/3.6/simple_http/volumes/pvc.yaml
  - https://raw.githubusercontent.com/classroom-dee/hobbernetes/3.6/simple_http/manifests/secrets.yaml
  - https://raw.githubusercontent.com/classroom-dee/hobbernetes/3.6/simple_http/manifests/redis.yaml
  - https://raw.githubusercontent.com/classroom-dee/hobbernetes/3.6/simple_http/manifests/pg-stset.yaml
  - https://raw.githubusercontent.com/classroom-dee/hobbernetes/3.6/simple_http/manifests/statefulset.yaml
  - https://raw.githubusercontent.com/classroom-dee/hobbernetes/3.6/simple_http/manifests/service.yaml
  - https://raw.githubusercontent.com/classroom-dee/hobbernetes/3.6/simple_http/manifests/ingress.yaml
  - https://raw.githubusercontent.com/classroom-dee/hobbernetes/3.6/simple_http/manifests/cronjob.yaml
